@model MiCo.Models.ViewModels.ProfileContentViewModel
@{
    ViewData["Title"] = "Profile Page";
}
<div class="container">

    <!-- Report -->
    <div class="modal fade" id="exampleModalReport" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Report Nickname</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form class="colmx-auto" asp-controller="Profile" asp-action="Report" method="post">
                        <label for="exampleFormControlTextarea1" class="form-label">Reason:</label>
                        <textarea class="form-control" id="reason" rows="3" maxlength="300" placeholder="Enter reason..."></textarea>
                        <small id="loginHelp" class="form-text text-danger">Max 300 characters!</small>
                        <div class="d-flex justify-content-center">
                            <button type="submit" class="btn btn-danger btn-sm mt-2">Report user</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="d-flex justify-content-center mt-3">
                        <div asp-validation-summary="All" class="text-danger"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ban -->
    <div class="modal fade" id="exampleModalBan" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Ban Nickname</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form class="colmx-auto" asp-controller="Profile" asp-action="Ban" method="post">
                        <label for="exampleFormControlTextarea1" class="form-label">Reason:</label>
                        <textarea class="form-control" id="reason" rows="3" maxlength="300" placeholder="Enter reason..."></textarea>
                        <small id="loginHelp" class="form-text text-danger">Max 300 characters!</small>
                        <div class="d-flex justify-content-center">
                            <button type="submit" class="btn btn-danger btn-sm mt-2">Ban user</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="d-flex justify-content-center mt-3">
                        <div asp-validation-summary="All" class="text-danger"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete -->
    <div class="modal fade" id="exampleModalDelete" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Delete account</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5 class="text-danger text-center mb-3">Are you sure you want to delete account?</h5>
                    <form class="colmx-auto" asp-controller="Profile" asp-action="Delete" method="post">
                        <div class="form-group mb-2">
                            <label for="exampleInputPassword1"><i class="bi bi-pass-fill"></i>Password:</label>
                            <input type="password" class="form-control mt-1" placeholder="Enter old password" required>
                            <small id="loginHelp" class="form-text text-danger">If you want to delete account you have to enter password!</small>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="d-flex justify-content-center mt-3">
                        <div asp-validation-summary="All" class="text-danger"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">

        <div class="col-3 justify-content-center text-center">
            <div class="col">
                <img class="flex-shrink-0 pfp rounded-circle border" src="@Model.pfp" alt="Generic placeholder image">
            </div>
            <div class="col">
                <div class="fs-5">
                    @Model.nickname
                </div>
                    @if (Model.role == 1)
                    {
                    <small><span class="badge rounded-pill text-bg-warning">MOD</span></small>
                    }
                <small>#@Model.login</small>
            </div>
            <div class="col">
                <small><i>Joined:</i> @Model.creation_date</small>
            </div>
            <div class="col d-flex justify-content-center">
                <div class="text-warning me-2">
                    <i class="bi bi-star-fill"></i> Score: 123
                </div>
                <div class="text-mico ms-2">
                    <i class="bi bi-list-ol"></i> Threads: 37
                </div>
            </div>
            <div class="col mt-2">
                <div class="btn-group btn-group-sm d-grid d-md-inline-flex" role="group" aria-label="Small button group">

                    @if (Model.login == Context.Session.GetString("Login"))
                    {
                        <a type="button" class="btn btn-warning" asp-controller="Profile" asp-action="Edit">Edit</a>
                        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModalDelete">Delete</button>
                    }

                    @if (Model.login != Context.Session.GetString("Login") && Context.Session.GetInt32("UserId") != null && Context.Session.GetInt32("Role") != 1)
                    {
                        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModalReport">Report</button>
                    }

                    @if (Model.login != Context.Session.GetString("Login") && Context.Session.GetInt32("Role") == 1 )
                    {
                        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModalBan">Ban</button>
                    }
                </div>
            </div>
        </div>

        <div class="col-9">
            <div class="fw-bold fs-4">
                @Model.nickname threads:
            </div>
            @if (Model.login == Context.Session.GetString("Login"))
            {
                <button type="button" class="btn btn-mico btn-sm mb-2"><i class="bi bi-plus-circle"></i> Creat new topic</button>
            }
            <ul class="list-unstyled">
                <li class="media border d-flex align-items-center p-2">
                    <img class="mr-3 flex-shrink-0 threads-list-img rounded" src="https://via.placeholder.com/100" alt="Generic placeholder image">
                    <div class="media-body px-3 text-truncate">
                        <div class="row">
                            <div class="col">
                                <h5 class="mt-0 mb-1">Title</h5>
                                <small>Author</small>
                            </div>
                            <div class="col d-flex flex-row-reverse">
                                <small>Date</small>
                            </div>
                        </div>
                        Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
                        <div class="tags-container d-flex flex-wrap mt-2">
                            <span class="badge badge-primary mr-1">Tag1</span>
                            <span class="badge badge-primary mr-1">Tag2</span>
                            <span class="badge badge-primary mr-1">Tag3</span>
                            <span class="badge badge-primary mr-1">Tag4</span>
                            <span class="badge badge-primary mr-1">Tag5</span>
                            <span class="badge badge-primary mr-1">Tag6</span>
                            <span class="badge badge-primary mr-1">Tag7</span>
                            <span class="badge badge-primary mr-1">Tag8</span>
                            <span class="badge badge-primary mr-1">Tag9</span>
                        </div>
                        <div class="row d-flex mt-2">
                            <div class="col text-warning">
                                <i class="bi bi-star-fill"></i> : 123
                            </div>
                            <div class="col-10">
                                <div class="btn-group btn-group-sm threads-list-btn" role="group" aria-label="Basic example">
                                    <button type="button" class="btn btn-outline-success"><i class="bi bi-hand-thumbs-up"></i></button>
                                    <button type="button" class="btn btn-outline-danger"><i class="bi bi-hand-thumbs-down"></i></button>
                                    <button type="button" class="btn btn-outline-secondary"><i class="bi bi-share"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="media border  d-flex align-items-center p-2">
                    <img class="mr-3 flex-shrink-0 threads-list-img rounded" src="https://via.placeholder.com/300" alt="Generic placeholder image">
                    <div class="media-body px-3 text-truncate">
                        <div class="row">
                            <div class="col">
                                <h5 class="mt-0 mb-1">Title</h5>
                                <small>Author</small>
                            </div>
                            <div class="col d-flex flex-row-reverse">
                                <small>Date</small>
                            </div>
                        </div>
                        Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
                        <div class="tags-container d-flex flex-wrap mt-2">
                            <span class="badge badge-primary mr-1">Tag1</span>
                            <span class="badge badge-primary mr-1">Tag2</span>
                            <span class="badge badge-primary mr-1">Tag3</span>
                            <span class="badge badge-primary mr-1">Tag4</span>
                            <span class="badge badge-primary mr-1">Tag5</span>
                            <span class="badge badge-primary mr-1">Tag6</span>
                            <span class="badge badge-primary mr-1">Tag7</span>
                            <span class="badge badge-primary mr-1">Tag8</span>
                            <span class="badge badge-primary mr-1">Tag9</span>
                        </div>
                        <div class="row d-flex mt-2">
                            <div class="col text-warning">
                                <i class="bi bi-star-fill"></i> : 123
                            </div>
                            <div class="col-10">
                                <div class="btn-group btn-group-sm threads-list-btn" role="group" aria-label="Basic example">
                                    <button type="button" class="btn btn-outline-success"><i class="bi bi-hand-thumbs-up"></i></button>
                                    <button type="button" class="btn btn-outline-danger active"><i class="bi bi-hand-thumbs-down"></i></button>
                                    <button type="button" class="btn btn-outline-secondary"><i class="bi bi-share"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="media border d-flex align-items-center p-2">
                    <img class="mr-3 flex-shrink-0 threads-list-img rounded" src="https://via.placeholder.com/32x50" alt="Generic placeholder image">
                    <div class="media-body px-3 text-truncate">
                        <div class="row">
                            <div class="col">
                                <h5 class="mt-0 mb-1">Title</h5>
                                <small>Author</small>
                            </div>
                            <div class="col d-flex flex-row-reverse">
                                <small>Date</small>
                            </div>
                        </div>
                        Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
                        <div class="tags-container d-flex flex-wrap mt-2">
                            <span class="badge badge-primary mr-1">Tag1</span>
                            <span class="badge badge-primary mr-1">Tag2</span>
                            <span class="badge badge-primary mr-1">Tag3</span>
                            <span class="badge badge-primary mr-1">Tag4</span>
                            <span class="badge badge-primary mr-1">Tag5</span>
                            <span class="badge badge-primary mr-1">Tag6</span>
                            <span class="badge badge-primary mr-1">Tag7</span>
                            <span class="badge badge-primary mr-1">Tag8</span>
                            <span class="badge badge-primary mr-1">Tag9</span>
                        </div>
                        <div class="row d-flex mt-2">
                            <div class="col text-warning">
                                <i class="bi bi-star-fill"></i> : 123
                            </div>
                            <div class="col-10">
                                <div class="btn-group btn-group-sm threads-list-btn" role="group" aria-label="Basic example">
                                    <button type="button" class="btn btn-outline-success active"><i class="bi bi-hand-thumbs-up"></i></button>
                                    <button type="button" class="btn btn-outline-danger"><i class="bi bi-hand-thumbs-down"></i></button>
                                    <button type="button" class="btn btn-outline-secondary"><i class="bi bi-share"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>

    </div>
</div>